<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Admin Panel</title>
<style>
body { font-family: Arial; background:#f4f4f4; padding:20px; text-align: center; margin: auto;}
input { width: 250px; padding:8px; margin:5px; }
button { padding:10px 20px; background:#2c3e50; color:white; border:none; }
</style>
</head>

<body>
<h2>ADMIN â€“ Update Standings</h2>

<input id="name" placeholder="Team Name"><br>
<input id="mp" placeholder="Matches Played" type="number"><br>
<input id="w" placeholder="Wins" type="number"><br>
<input id="l" placeholder="Losses" type="number"><br>
<input id="d" placeholder="Draws" type="number"><br>
<input id="pts" placeholder="Points" type="number"><br>
<input id="gd" placeholder="Goal Difference" type="number"><br>
<input id="stars" placeholder="Stars" type="number" step="0.1"><br>
<input id="rank" placeholder="Rank" type="number"><br>

<button onclick="saveData()">Save / Update</button>

<!-- Firebase -->
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>
<script src="firebase.js"></script>

<script>
function saveData() {
    let team = {
        name: document.getElementById("name").value.trim(),
        mp: Number(document.getElementById("mp").value),
        w: Number(document.getElementById("w").value),
        l: Number(document.getElementById("l").value),
        d: Number(document.getElementById("d").value),
        pts: Number(document.getElementById("pts").value),
        gd: Number(document.getElementById("gd").value),
        stars: Number(document.getElementById("stars").value),
        rank: Number(document.getElementById("rank").value)
    };

    if (!team.name) {
        alert("Team name required");
        return;
    }

    // Document ID based on name (consistent)
    let docId = team.name.toLowerCase().replace(/\s+/g, "-");

    db.collection("standings").doc(docId).set(team)
    .then(() => alert("Saved Successfully"))
    .catch(err => alert("Error: " + err));
}
</script>

</body>
</html>

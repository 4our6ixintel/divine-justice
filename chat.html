<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ultimate.dls Chat Room</title>
<style>
    body { font-family: Arial; background: #f4f4f4; margin: 0; }
    header { background: #2c3e50; color: white; text-align: center; padding: 20px; }
    nav a { color: white; margin: 0 15px; text-decoration: none; font-weight: bold; }
    .container { width: 90%; max-width: 700px; margin: 20px auto; background: #fff; padding: 15px; border-radius: 10px; }
    #chat-box { height: 400px; overflow-y: auto; border: 1px solid #ddd; padding: 10px; background: #fafafa; border-radius: 5px; }
    .chat-message { margin-bottom: 10px; }
    .chat-message strong { color: #2c3e50; }
    #chat-form { display: flex; gap: 10px; margin-top: 10px; }
    #username, #message { flex: 1; padding: 10px; border-radius: 5px; border: 1px solid #ccc; }
    #send-btn { padding: 10px 15px; border: none; background: #2c3e50; color: white; border-radius: 5px; cursor: pointer; }
    #send-btn:hover { background: #34495e; }
</style>
</head>
<body>
<header>
    <h1>Ultimate.dls Chat Room</h1>
    <nav>
        <a href="index.html">Home</a>
        <a href="blog.html">Blog</a>
        <a href="match.html">Matches</a>
        <a href="tables.html">Tables</a>
    </nav>
</header>

<div class="container">
    <div id="chat-box"></div>
    <form id="chat-form">
        <input type="text" id="username" placeholder="Your Name" required>
        <input type="text" id="message" placeholder="Type a message" required>
        <button type="submit" id="send-btn">Send</button>
    </form>
</div>

<!-- Firebase Scripts -->
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database-compat.js"></script>

<script>
    // Step 1: Your Firebase config
    const firebaseConfig = {
        apiKey: "YOUR_API_KEY",
        authDomain: "YOUR_PROJECT.firebaseapp.com",
        databaseURL: "https://YOUR_PROJECT.firebaseio.com",
        projectId: "YOUR_PROJECT",
        storageBucket: "YOUR_PROJECT.appspot.com",
        messagingSenderId: "YOUR_MESSAGING_ID",
        appId: "YOUR_APP_ID"
    };

    // Step 2: Initialize Firebase
    firebase.initializeApp(firebaseConfig);
    const db = firebase.database();

    const chatBox = document.getElementById('chat-box');
    const chatForm = document.getElementById('chat-form');
    const usernameInput = document.getElementById('username');
    const messageInput = document.getElementById('message');

    // Step 3: Listen for new messages
    const messagesRef = db.ref('messages');
    messagesRef.on('child_added', snapshot => {
        const msg = snapshot.val();
        const div = document.createElement('div');
        div.classList.add('chat-message');
        div.innerHTML = `<strong>${msg.username}:</strong> ${msg.text}`;
        chatBox.appendChild(div);
        chatBox.scrollTop = chatBox.scrollHeight;
    });

    // Step 4: Send message
    chatForm.addEventListener('submit', e => {
        e.preventDefault();
        const username = usernameInput.value.trim();
        const text = messageInput.value.trim();
        if (!username || !text) return;

        messagesRef.push({ username, text });
        messageInput.value = '';
    });
</script>
</body>
</html>

<!DOCTYPE html>
<html lang="en">

<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ultimate League Tables</title>

<style>
    * {margin:0;padding:0;box-sizing:border-box;font-family:Arial,sans-serif;}
    body {background-color:#f4f4f4;color:#333;line-height:1.6;}
    header {background-color:#2c3e50;color:#fff;padding:20px 0;text-align:center;}
    header h1 {margin-bottom:10px;}
    nav a {color:#fff;text-decoration:none;margin:0 15px;font-weight:bold;}
    nav a:hover{text-decoration:underline;}

    .container {width:95%;max-width:1200px;margin:30px auto;overflow-x:auto;}
    table {width:100%;border-collapse:collapse;background-color:#fff;box-shadow:0 0 10px rgba(0,0,0,0.1);}
    thead {background-color:#34495e;color:#fff;}
    th, td {padding:12px 15px;text-align:center;border:1px solid #ddd;}
    tbody tr:hover {background-color:#f1f1f1;}

    .top-btn {position:fixed;bottom:30px;right:30px;background-color:#2c3e50;color:#fff;border:none;padding:12px 18px;font-size:18px;border-radius:8px;cursor:pointer;}

    @media (max-width:768px) {
        table, thead, tbody, th, td, tr {display:block;}
        thead tr {display:none;}
        tbody tr {margin-bottom:20px;background-color:#fff;padding:10px;border-radius:8px;}
        td {text-align:right;padding-left:50%;position:relative;border:none;border-bottom:1px solid #eee;}
        td::before {content:attr(data-label);position:absolute;left:15px;width:45%;font-weight:bold;text-align:left;}
        td:last-child {border-bottom:0;}
    }
</style>
</head>

<body>

<header>
<h1>ULTIMATE LEAGUE TABLE</h1>
<nav>
<a href="index.html">Home</a>
<a href="blog.html">Blog</a>
<a href="match.html">Matches</a>
<a href="tables.html">Tables</a>
</nav>
</header>

<div class="container">
<table>
<thead>
<tr>
<th>N.O</th>
<th>Team Name Dls</th>
<th>MP</th>
<th>L</th>
<th>W</th>
<th>D</th>
<th>Pts</th>
<th>GD</th>
<th>Stars</th>
<th>Rank</th>
</tr>
</thead>
<tbody id="league-body"></tbody>
</table>
</div>

<button onclick="window.scrollTo({top:0,behavior:'smooth'})" class="top-btn">â¬†</button>


<!-- Firebase scripts -->
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>
<script src="firebase.js"></script> <!-- Your Firebase config + initialization -->


<!-- Real-time dynamic table -->
<script>
const tableBody = document.getElementById('league-body');

db.collection("standings").onSnapshot(snapshot => {
    let teams = [];

    snapshot.forEach(doc => teams.push(doc.data()));

    // Sort teams automatically
    teams.sort((a, b) => {
        if (b.pts !== a.pts) return b.pts - a.pts;
        return b.gd - a.gd;
    });

    tableBody.innerHTML = "";
    
    teams.forEach((t, index) => {
        tableBody.innerHTML += `
            <tr>
                <td data-label="N.O">${index + 1}</td>
                <td data-label="Team Name Dls">${t.name}</td>
                <td data-label="MP">${t.mp}</td>
                <td data-label="L">${t.l}</td>
                <td data-label="W">${t.w}</td>
                <td data-label="D">${t.d}</td>
                <td data-label="Pts">${t.pts}</td>
                <td data-label="GD">${t.gd}</td>
                <td data-label="Stars">${t.stars}</td>
                <td data-label="Rank">${t.rank}</td>
            </tr>
        `;
    });
});
</script>

</body>
</html>
